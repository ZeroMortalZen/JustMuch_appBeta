<!DOCTYPE html>
<html>
<body>
<head>

	<link rel="stylesheet" type="text/stylesheet" href="stylesheet/style.css" />
	<link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css" />
	<script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
	<script src="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>



</head>




<div data-role="page">

	<div data-role="header">
		<link rel="stylesheet" type="text/stylesheet" href="stylesheet/style.css" />
		<h1>Just Much</h1>
		<p><img src="public/images/Logo.jpg" alt="Image" height="100" width="100"></p>
		<form action="#">
			<fieldset>
			<label for="salutation"></label>
			<select name="salutation" id="salutation">
				<option disabled selected><img src='public/images/dropMenu.png' alt="Image" > </option>
				<option>

				</option>
			</select>
			</fieldset>

		</form>
	</div><!-- /header -->
	<!--- Customer Page ----->
	<div role="main" class="ui-content">
		<p>Please Select from Menu </p>

		<!---Menu------>


		<div class="Menu">

			<ul>
				<p><img src='public/images/Double-Cheeseburger.jpg' alt="Image" height="200" width="200"></p>
				<li><button class="add-to-cart" href="#" data-name="Double Cheeseburger " data-price="3.50">Double Cheeseburger $3.50</button></li>

				<p><img src='public/images/pizza.jpg' alt="Image" height="200" width="200"></p>
				<li><button class="add-to-cart" href="#" data-name="Pizza " data-price="9.93">Pizza $9.93</button></li>

				<p><img src='public/images/Chips.jpg' alt="Image" height="200" width="200"></p>
				<li><button class="add-to-cart" href="#" data-name="Chips" data-price="1.50">Chips $1.50</button></li>

				<p><img src='public/images/Mayo.jpg' alt="Image" height="200" width="200"></p>
				<li><button class="add-to-cart" href="#" data-name="Spicy Mayo" data-price="0.50">Spicy Mayo Dip $0.50</button></li>
			</ul>
		</div>


							<!---end of menu----->
	<div data-role="footer">
		<h4>Page Footer</h4>
	</div><!-- /footer -->
</div><!-- /page -->


<!---Checkout Section----->

	<div id="h">


		<div>
			<ul id="show-cart">
				<li>???????</li>
			</ul>
			<div>You have <span id="count-cart">X</span> items in your cart</div>
			<div>Total Cart:$<span id="total-cart"></span></div>

			<button id="clear-cart">Clear Cart</button>

		</div>



		<button id ="button" onclick="DBconnect()"><a href="#two" >Purchase</a></button>

		<p><a href="#foo">Back to foo</a></p>
	  </div>
	<!-- /content -->

	<!-- Start of second page -->
	<div data-role="page" id="two">

		<div data-role="header">
			<h1>Bar</h1>
		</div><!-- /header -->

		<div role="main" class="ui-content">
			<p>I'm the second in the source order so I'm hidden when the page loads. I'm just shown if a link that references my id is beeing clicked.</p>
			<p><a href="#foo">Back to foo</a></p>
		</div><!-- /content -->

		<div data-role="footer">
			<h4>Page Footer</h4>
		</div><!-- /footer -->
	</div><!-- /page -->













		<!--Scripts---->

		<script src="./shoppingCart.js"></script>


		<script>





			//Checkout System

				$(".add-to-cart").click(function(event){
					event.preventDefault();
					var name = $(this).attr("data-name");
					var price = Number($(this).attr("data-price"));

					shoppingCart.addItemToCart(name, price, 1);
					displayCart();
				});





			$("#clear-cart").click(function(event){
				shoppingCart.clearCart();
				displayCart();
			});

			function displayCart() {
				var cartArray = shoppingCart.listCart();
				console.log(cartArray);

				var output = "";

				for (var i in cartArray) {
					output += "<li>"
							+cartArray[i].name
							+" <input class='item-count' type='number' data-name='"
							+cartArray[i].name
							+"' value='"+cartArray[i].count+"' >"
							+" x "+cartArray[i].price
							+" = "+cartArray[i].total
							+" <button class='plus-item' data-name='"
							+cartArray[i].name+"'>+</button>"
							+" <button class='subtract-item' data-name='"
							+cartArray[i].name+"'>-</button>"
							+" <button class='delete-item' data-name='"
							+cartArray[i].name+"'>X</button>"
							+"</li>";
				}

				$("#show-cart").html(output);
				$("#count-cart").html( shoppingCart.countCart() );
				$("#total-cart").html( shoppingCart.totalCart() );
			}

			$("#show-cart").on("click", ".delete-item", function(event){
				var name = $(this).attr("data-name");
				shoppingCart.removeItemFromCartAll(name);
				displayCart();
			});

			$("#show-cart").on("click", ".subtract-item", function(event){
				var name = $(this).attr("data-name");
				shoppingCart.removeItemFromCart(name);
				displayCart();
			});

			$("#show-cart").on("click", ".plus-item", function(event){
				var name = $(this).attr("data-name");
				shoppingCart.addItemToCart(name, 0, 1);
				displayCart();
			});

			$("#show-cart").on("change", ".item-count", function(event){
				var name = $(this).attr("data-name");
				var count = Number($(this).val());
				shoppingCart.setCountForItem(name, count);
				displayCart();
			});


			displayCart();





		</script>
		<!--end Script---->







		<div data-role="footer">
				<h4>Page Footer</h4>
			</div><!-- /footer -->

	</div><!-- /page -->
</body>
</html>
